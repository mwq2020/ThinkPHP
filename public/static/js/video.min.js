$(function () {
    function e(e, o) {
        timer = setInterval(function () { return 0 >= o ? (clearInterval(timer), void e.removeClass("disabled").text("重新获取")) : void e.addClass("disabled").text("重新获取(" + o-- + "S)") }, 1e3)
    } function o(e) { var o = /^1[3,4,5,7,8,9][0-9]{9}$/; return o.test(e) ? !0 : void 0 } $("#pageContent").on("click", ".loginBtn", function () { $(".mask").show(), $(".loginBox").show().find("input").val("") }), $("#pageContent").on("click", ".registerBtn", function () { $(".mask").show(), $(".registerBox").show().find("input").val("") }), $("#regYzmBtn").on("click", function () { var i = $(this), n = $("#regMobile"), t = n.val(); return t ? o(t) ? (n.removeClass("error"), void e(i, 60)) : void n.closest(".single").addClass("error").find(".errorTip").html("手机号格式错误") : void n.closest(".single").addClass("error").find(".errorTip").html("手机号不能为空") }), $(".loginBox").on("click", ".forget", function () { $(".popBox").hide(), $(".recoverPwdBox1").show() }), $(".loginBox").on("click", ".register", function () { $(".popBox").hide(), $(".registerBox").show() }), $(".categoryList").on("mouseenter", "li", function () { $(this).addClass("cur").siblings().removeClass("cur") }), $(".categoryList").on("click", "li", function () { var e = $(this), o = e.text(); e.addClass("cur").siblings().removeClass("cur").parent().hide(), $(".searchBox .category .selected").html(o) }), $(".searchBox").on("click", ".category", function () { $(".categoryList").toggle() }), $(".header").on("mouseover", ".username", function () { $(".userSetting").show() }), $(".header").on("mouseout", ".username", function () { $(".userSetting").hide() }), $(".logoBox").on("mouseover", ".nav li", function () { $(this).addClass("cur").siblings().removeClass("cur") }), $(".logoBox").on("mouseout", ".nav li", function () { $(this).removeClass("cur") }), $(".loginBox").on("click", ".close", function () { $(this).closest(".single").removeClass("error").find(".val").val("").focus() }), $(".loginBox").on("click", ".eye", function () { var e = $(this); e.hasClass("open") ? (e.removeClass("open"), e.parent().find(".val").attr("type", "password")) : (e.addClass("open"), e.parent().find(".val").attr("type", "text")) }), $(".popBox .close, .mask").click(function () { $(".mask").hide(), $(".popBox").hide() }), $("#yzmBtn").on("click", function () { var o = $(this); o.hasClass("disabled") || e(60) })
}), $(function () { video.init(), $(".dramaBox").on("click", "li", function () { $(this).addClass("cur").siblings().removeClass("cur") }), $("#detailContent").on("click", " .box .moreDesc", function () { var e = $(this), o = e.prev(); o.hasClass("open") ? (o.removeClass("open"), e.find("span").text("查看全部")) : (o.addClass("open"), e.find("span").text("收起")) }), $("#detailContent").on("click", " .box .moreTitle", function () { var e = $(this), o = e.prev(); o.hasClass("hide") ? (o.removeClass("hide"), e.find("span").text("收起")) : (o.addClass("hide"), e.find("span").text("查看全部")) }) }); var video = {
    videoArr: ["video1.mp4", "video2.mp4", "video3.mp4", "video4.mp4"], videoObj: document.getElementById("video"), videoLen: 0, index: 0, muted: !1, volume: 1, curTime: 0, totaltime: 0, binding: function () {
        $(video.videoObj).attr("src", "video/" + video.videoArr[video.index]), video.videoObj.onloadedmetadata = function () { video.volume = video.videoObj.volume, video.muted = video.videoObj.muted, video.curTime = video.videoObj.currentTime, video.totalTime = video.videoObj.duration, $(".videoContainer .curTime").text(video.formatDate(video.curTime)), $(".videoContainer .totalTime").text(video.formatDate(video.totalTime)), console.log(video.totalTime) }, video.videoObj.ontimeupdate = function () { video.curTime = video.videoObj.currentTime, $(".videoContainer .precentBox .curPrecent").css("width", video.curTime / video.totalTime * 100 + "%"), $(".videoContainer .curTime").text(video.formatDate(video.curTime)) }, $(".videoContainer").on("click", ".playBtn, .playBtn1, .videoBtn", function () { video.videoObj.paused ? (video.videoObj.play(), $(".videoContainer .playBtn,.videoContainer .playBtn1,.videoContainer .videoBtn").addClass("paused")) : (video.videoObj.pause(), $(".videoContainer .playBtn,.videoContainer .playBtn1, .videoContainer .videoBtn").removeClass("paused")) }), $(".videoContainer").on("click", ".prevBtn", function () { video.index <= 0 || (video.index -= 1, $("#video").attr("src", "video/" + video.videoArr[video.index])) }), $(".videoContainer").on("click", ".nextBtn", function () { video.index >= video.videoArr.length - 1 || (video.index += 1, $("#video").attr("src", "video/" + video.videoArr[video.index])) }), $(".videoContainer").on("click", ".muteBtn", function () { video.muted = !video.muted, video.videoObj.muted = video.muted }), $(".videoContainer").on("click", ".minuteBtn", function () { video.volume = video.volume >= .2 ? video.volume - .2 : 0, video.videoObj.volume = video.volume }), $(".videoContainer").on("click", ".plusBtn", function () { video.volume = video.volume <= .8 ? video.volume + .2 : 1, video.videoObj.volume = video.volume, video.muted = !1, video.videoObj.muted = !1 }), $(".videoContainer").on("click", ".rewindBtn", function () { video.curTime = video.curTime - 5 >= 0 ? video.curTime - 5 : 0, video.videoObj.currentTime = video.curTime }), $(".videoContainer").on("click", ".fastBtn", function () { video.curTime = video.curTime + 5 <= video.totalTime ? video.curTime + 5 : video.totalTime, video.videoObj.currentTime = video.curTime }), $(".videoContainer").on("click", ".fullScreenBtn", function () { video.fullScreen(video.videoObj) }), $(".videoContainer").on("click", ".storeBtn", function () {
            //var e = $(this); e.toggleClass("stored")
        })
    }, formatDate: function (e) { var o = parseInt(e / 60), i = parseInt(e % 60); return video.twoDigit(o) + ":" + video.twoDigit(i) }, twoDigit: function (e) { return 10 > e ? "0" + e : e }, fullScreen: function (e) { e.requestFullscreen ? e.requestFullscreen() : e.mozRequestFullScreen ? e.mozRequestFullScreen() : e.msRequestFullscreen ? e.msRequestFullscreen() : e.webkitRequestFullscreen && e.webkitRequestFullScreen() }, init: function () { video.binding() }
};